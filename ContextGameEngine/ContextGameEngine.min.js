function Game(e,t,n){var r,i;var s;var o;parentUpdate=function(){updateGameDimensions();t();parentDraw()};parentDraw=function(){var e=o.getContext("2d");clearCanvas();n(e)};createCanvas=function(){var e=document.createElement("canvas");e.id="gameCanvas";e.width=r;e.height=i;document.body.appendChild(e);return document.getElementById("gameCanvas")};updateGameDimensions=function(){r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;o.width=r;o.height=i};clearCanvas=function(){var e=o.getContext("2d");e.clearRect(0,0,r,i);e.fillStyle=s;e.fillRect(0,0,r,i)};Initialize=function(){r=document.body.clientWidth;i=document.body.clientHeight;s="#000000";o=createCanvas()};Boot=function(){e();setInterval(parentUpdate,17)};Initialize();setTimeout(Boot,1e3);this.getBackgroundColor=function(){return s};this.setBackgroundColor=function(e){s=e}}function Sprite(){var e;this.position={x:0,y:0};this.origin={x:0,y:0};this.rotation=0;this.scale={x:1,y:1};this.body;this.LoadContent=function(t){e=new Image;e.src=t};this.Draw=function(t){t.drawImage(e,this.position.x,this.position.y)}}function Ball(e){var t={x:0,y:0};var e=e;var n="#000000";var r;this.Draw=function(r){r.beginPath();r.arc(t.x,t.y,e,0,Math.PI*2,true);r.closePath();r.fillStyle=n;r.fill()};this.Update=function(){if(r instanceof CircularBody)r.Update()};this.EnableBody=function(){r=new CircularBody(this)};this.CollidesWith=function(e){return r.CollidesWith(e.getBody())};this.setPosition=function(e,n){t.x=e;t.y=n;r.position={x:e,y:n}};this.setVelocity=function(e){r.velocity=e};this.setVelocityDirection=function(e){r.velocityDirection=e};this.setRadius=function(t){e=t;r.radius=t};this.setColor=function(e){n=e};this.getPosition=function(){return t};this.getVelocity=function(){return r.velocity};this.getRadius=function(){return e};this.getColor=function(){return n};this.getBody=function(){return r};this.EnableBody()}var Base=function(){};Base.extend=function(e,t){var n=Base.prototype.extend;Base._prototyping=true;var r=new this;n.call(r,e);r.base=function(){};delete Base._prototyping;var i=r.constructor;var s=r.constructor=function(){if(!Base._prototyping){if(this._constructing||this.constructor==s){this._constructing=true;i.apply(this,arguments);delete this._constructing}else if(arguments[0]!=null){return(arguments[0].extend||n).call(arguments[0],r)}}};s.ancestor=this;s.extend=this.extend;s.forEach=this.forEach;s.implement=this.implement;s.prototype=r;s.toString=this.toString;s.valueOf=function(e){return e=="object"?s:i.valueOf()};n.call(s,t);if(typeof s.init=="function")s.init();return s};Base.prototype={extend:function(e,t){if(arguments.length>1){var n=this[e];if(n&&typeof t=="function"&&(!n.valueOf||n.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var r=t.valueOf();t=function(){var e=this.base||Base.prototype.base;this.base=n;var t=r.apply(this,arguments);this.base=e;return t};t.valueOf=function(e){return e=="object"?t:r};t.toString=Base.toString}this[e]=t}else if(e){var i=Base.prototype.extend;if(!Base._prototyping&&typeof this!="function"){i=this.extend||i}var s={toSource:null};var o=["constructor","toString","valueOf"];var u=Base._prototyping?0:1;while(a=o[u++]){if(e[a]!=s[a]){i.call(this,a,e[a])}}for(var a in e){if(!s[a])i.call(this,a,e[a])}}return this}};Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,n){for(var r in e){if(this.prototype[r]===undefined){t.call(n,e[r],r,e)}}},implement:function(){for(var e=0;e<arguments.length;e++){if(typeof arguments[e]=="function"){arguments[e](this.prototype)}else{this.prototype.extend(arguments[e])}}return this},toString:function(){return String(this.valueOf())}});var Body=Base.extend({position:{x:0,y:0},isStatic:false,isTrigger:false,velocity:0,velocityDirection:0,vectorVelocity:{x:0,y:0},Update:function(){this.velocityDirection=this.velocityDirection%(2*Math.PI);this.vectorVelocity={x:this.velocity*Math.cos(this.velocityDirection),y:-this.velocity*Math.sin(this.velocityDirection)};this.position.x+=this.vectorVelocity.x;this.position.y+=this.vectorVelocity.y}});var CircularBody=Body.extend({radius:1,parentBall:0,constructor:function(e){this.radius=e.getRadius();this.parentBall=e},Update:function(){this.base();this.parentBall.setPosition(this.position.x,this.position.y)},CollidesWith:function(e){if(e instanceof CircularBody)return this.CollidesWithBall(e);else console.log("Unimplemented Collision with "+e)},CollidesWithBall:function(e){var t=Math.abs(this.position.x-e.position.x);var n=Math.abs(this.position.y-e.position.y);var r=Math.sqrt(t*t+n*n);return r<=this.radius+e.radius},HandleCollision:function(e){if(!CollidesWith(e))return;console.log("Collision handled")}})