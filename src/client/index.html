<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Player</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, user-scalable=0">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <!-- css -->
        <link href='http://fonts.googleapis.com/css?family=Indie+Flower' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link rel="stylesheet" type="text/css" href="css/client.css">
    
        <!-- lib --> 
        <script src="../lib/socket.io.min.js"></script>  
        <script src="../lib/Base.js"></script>
        <script src="../lib/howler.min.js"></script>
        <script src="../lib/screenfull.js"></script>

        <!-- enum -->
        <script src="../common/Enums.js"></script>

        <!-- utils -->
        <script src="../common/game/util/IDDistributor.js"></script>
        <script src="../common/game/util/ColorGenerator.js"></script>
        <script src="../common/game/util/Group.js"></script>
        <script src="../common/game/util/GroupManager.js"></script>
        
        <!-- settings -->
        <script src="../common/Settings.js"></script>  

        <!-- timers -->
        <script src="../common/game/time/Timer.js"></script>
        <script src="../common/game/time/PlayerTimer.js"></script>
        <script src="../common/game/time/PowerupTimer.js"></script>
        <script src="../common/game/time/RandomTimer.js"></script>
       
        <!-- game engine -->
        <script src="../common/game/Game.js"></script>
        <script src="../common/game/RenderEngine.js"></script>
        <script src="../common/game/CoreGame.js"></script>
        <script src="../common/game/Input.js"></script>
        <script src="../common/game/CollisionDetection.js"></script>
        <script src="../common/game/Drawer.js"></script>

        <!-- game objects -->
        <script src="../common/game/gameobjects/Sprite.js"></script>
        <script src="../common/game/gameobjects/Player.js"></script>
        <script src="../common/game/gameobjects/Ball.js"></script>
        <script src="../common/game/gameobjects/Body.js"></script>
        <script src="../common/game/gameobjects/CircularBody.js"></script>
        <script src="../common/game/gameobjects/ShieldBody.js"></script>       
        <script src="../common/game/gameobjects/Shield.js"></script>
        <script src="../common/game/gameobjects/Pole.js"></script>
        <script src="../common/game/gameobjects/Powerup.js"></script>
        <script src="../common/game/gameobjects/Label.js"></script>
        <script src="../common/game/gameobjects/Powerup.js"></script>    
        <script src="../common/game/gameobjects/ScoreLabel.js"></script>
 
        <!-- sound -->
        <script src="../common/game/sound/Audio.js"></script>
        <script src="../common/game/sound/AudioManager.js"></script>

        <!-- this game and connection -->
        <script src="js/PlayerGame.js"></script>
        <script src="js/PlayerConnection.js"></script>

    </head>
    <body>
        <div id="usernameBox"> 
            <div id="boxHeader"> Join the action now! </div>
            Username: <input type="text" name="firstname" id="firstname" maxlength="20"> </br>
            <button id="startButton" onclick="startPlaying()">Start Playing!</button> </br>
            <span id="error" style="color: red;"> </span>
        </div>  
    </body>

    <script>
        var s = new startSocket();
        function startPlaying() {
            var n = document.getElementById("firstname").value;
            var error = document.getElementById("error");

            if(n != null && n.length > 0){
                if(n.length <= Settings.player.maxNameLength)
                     s.checkName(n);
                 else{
                    error.innerHTML = "Username is too long.";
                 }
            } else {
                error.innerHTML = "Username cannot be empty.";
            }
            pole.indicateJoin();
        }
    </script>
</html>
