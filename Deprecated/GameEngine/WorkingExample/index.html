<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Canvas test</title>

        
        <script src="Base.js"></script>
        <script src="Game.js"></script>
        <script src="Sprite.js"></script>
        <script src="Ball.js"></script>
        <script src="Body.js"></script>
        <script src="CircularBody.js"></script>
        <script src="Input.js"></script>
        <script src="Shield.js"></script>
        
        <style type="text/css">
	        body {
	            margin: 0;
	        }
    	</style>
    </head>
    <body>

    <script type="text/javascript">
    	var game = new Game(loadContent, update, draw);

    	var pole = new Ball(10);
    	pole.getBody().isStatic = true;
    	pole.setColor("#CDF99E");
    	pole.setPosition(300, 300);
        
        var shield = new Shield(pole);

    	var ball = new Ball(10);
    	ball.setPosition(0, 0);
    	ball.setColor("#9EB9F9");
    	ball.setVelocity(1);
    	ball.setVelocityDirection(1.75 * Math.PI);
        ball.setPosition(150, 150);

    	function loadContent(){

    	}

    	function update(){
    		pole.update();
    		ball.update();
    		shield.update();

    		if(shield.collidesWith(ball)){
    			game.setBackgroundColor("red");
    		}else{
    			game.setBackgroundColor("black");
    		}
    	}

    	function draw(canvasContext){
    		pole.draw(canvasContext);
    		ball.draw(canvasContext);
    		shield.draw(canvasContext);
    	}
    </script>

    </body>
</html>